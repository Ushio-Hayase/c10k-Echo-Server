# 외적

## 정의

두 벡터(3차원에서 일반적으로 정의)를 이용해 방향은 두 벡터에 수직이고 크기는 두 벡터가 이루는 평행사변형의 넓이인 벡터를 내놓는 연산

벡터를 성분분해하여 연산할 때 계산식은 다음과 같습니다.

$$\bold a = (a_x,a_y,a_z),\bold b = (b_x,b_y,b_z)\\ \bold a \times \bold b = (a_yb_z-a_zb_y, a_zb_x-a_xb_z,a_xb_y-a_yb_x)$$

행렬식으로 나타내면 다음과 같습니다.

$$ \bold a\times \bold b = \begin{vmatrix}\hat{i}&\hat{j}&\hat{k}\\a_x&a_y&a_z\\b_x&b_y&b_z\end{vmatrix} = \bold c$$

이 때 $\bold c$는 $\bold a$와 $\bold b$에 수직이고 $\bold c$의 크기는 $\lVert a \rVert \lVert b \rVert \sin \theta$입니다.

평행한 두 벡터의 크로스 곱은 0이고 따라서 자기 자신과의 크로스 곱도 0입니다.

일반적으로 이걸 게임에서 가장 많이 쓰는 곳은 법선 벡터 계산입니다.

렌더링에서 폴리곤이 있을 때 각 폴리곤마다 어느 방향을 바라보고 있는지 계산을 해놔야 렌더링을 할 때 보이는 부분만 렌더링을 할 수 있는데 그 때 사용합니다.

카메라가 어떤 물체를 특정 방향을 바라볼때 어떤 물체가 그 카메라가 보고있는 방향의 왼쪽에 있는지 오른쪽에 있는지 알 수 있습니다.

예시로 플레이어가 수평면을 바라보고 있다고 할때 플레이어의 시야 벡터와 월드 좌표계의 위쪽 벡터를 외적하면 오른쪽을 가르키는 벡터를 얻을 수 있습니다.

그 벡터를 다시 물체 벡터와 내적하면 부호판단을 통해 플레이어 오른쪽에 있는지 왼쪽에 있는지, 정면이나 후면에 있는지 알 수 있습니다.
(오른쪽에 있다면 양수, 왼쪽에 있다면 음수, 정면이나 후면이면 0; 외적은 $\sin$이니까 좌우, 내적은 $\cos$이니까 앞뒤)

벡터의 외적은 수학적으로는 오른손 좌표계를 사용하기로 약속해서 오른손 좌표계를 사용하지만 왼손 좌표계를 사용하는 프로그램(DirectX, Unity, Unreal Engine)는 부호가 반대로 나오기에 사용할 때 주의해야합니다.

추가적으로 같은 왼손 좌표계를 사용하는 유니티와 언리얼이라도 개념적으로는 같은 방향을 가르키는 벡터가 실제 숫자로는 다르게 나타납니다.
언리얼을 연직방향이 Z축이고 유니티는 연직방향이 Y축입니다.
